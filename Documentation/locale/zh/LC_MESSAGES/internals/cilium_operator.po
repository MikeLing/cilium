# SOME DESCRIPTIVE TITLE.
# Copyright (C) Cilium Authors
# This file is distributed under the same license as the Cilium package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2022.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Cilium \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2022-05-25 23:56+0800\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.9.1\n"

#: ../../internals/cilium_operator.rst:3 fd7a4489cba44bb5bfb07c4c2fcaf2bb
msgid ""
"WARNING: You are looking at unreleased Cilium documentation. Please use "
"the official rendered version released here: https://docs.cilium.io"
msgstr ""

#: ../../internals/cilium_operator.rst:10 bf586ab645d345d3b02e53f2eb22bcdc
msgid "Cilium Operator"
msgstr ""

#: ../../internals/cilium_operator.rst:12 76e962fa033d4e48bb4ca5cb6010f4d8
msgid ""
"This document provides a technical overview of the Cilium Operator and "
"describes the cluster-wide operations it is responsible for."
msgstr ""

#: ../../internals/cilium_operator.rst:16 56c52d94255b441f995c0e0a518a979d
msgid "Highly Available Cilium Operator"
msgstr ""

#: ../../internals/cilium_operator.rst:18 bbcd30c2308f40f9afeccb27bb3f1a7d
msgid ""
"The Cilium Operator uses Kubernetes leader election library in "
"conjunction with lease locks to provide HA functionality. The capability "
"is supported on Kubernetes versions 1.14 and above. It is Cilium's "
"default behavior since the 1.9 release."
msgstr ""

#: ../../internals/cilium_operator.rst:22 ec1967c015324a6f86e9cf577ee3f861
msgid ""
"The number of replicas for the HA deployment can be configured using Helm"
" option ``operator.replicas``."
msgstr ""

#: ../../internals/cilium_operator.rst:37 25a2c2ca6e7c428fb21ac7f9677bc279
msgid ""
"The operator is an integral part of Cilium installations in Kubernetes "
"environments and is tasked to perform the following operations:"
msgstr ""

#: ../../internals/cilium_operator.rst:41 00da7be4a0f04520aed6789b2201728f
msgid "CRD Registration"
msgstr ""

#: ../../internals/cilium_operator.rst:43 81c3d16d301645298032b411fee5e6ba
msgid ""
"The default behavior of the Cilium Operator is to register the CRDs used "
"by Cilium. The following custom resources are registered by the Cilium "
"Operator:"
msgstr ""

#: ../../internals/cilium_operator.rst:46 f3f1a5b55f27443dbf444e8d0283709e
msgid ":ref:`CiliumNetworkPolicy`"
msgstr ""

#: ../../internals/cilium_operator.rst:47 66b30e44c02d47dc86857b6e86d8ec83
msgid ":ref:`CiliumClusterwideNetworkPolicy`"
msgstr ""

#: ../../internals/cilium_operator.rst:48 8e9134a8cd10477fb71ec7f875610fcb
msgid ":ref:`CiliumEndpoint <CiliumEndpoint>`"
msgstr ""

#: ../../internals/cilium_operator.rst:49 739fd1af11d74f37ad9c6e265fc1217d
msgid "CiliumNode"
msgstr ""

#: ../../internals/cilium_operator.rst:50 d1069d97ecfb45f79440c7b7f09bf9f9
msgid "CiliumExternalWorkload"
msgstr ""

#: ../../internals/cilium_operator.rst:51 3da2beed65f3484a98652c9d9680acc1
msgid "CiliumIdentity"
msgstr ""

#: ../../internals/cilium_operator.rst:52 5a6ecd5cccd6469d9b95e48174ea2949
msgid "CiliumLocalRedirectPolicy"
msgstr ""

#: ../../internals/cilium_operator.rst:55 f7b84501f7c644b7a6a85b7985c99a51
msgid "IPAM"
msgstr ""

#: ../../internals/cilium_operator.rst:57 50a6f1527b2c4d88be7b3405170b483f
msgid ""
"Cilium Operator is responsible for IP address management when running in "
"the following modes:"
msgstr ""

#: ../../internals/cilium_operator.rst:60 384c3298a80c417293a7c1a773ca7d8d
msgid ":ref:`ipam_azure`"
msgstr ""

#: ../../internals/cilium_operator.rst:61 5befd3b1aeca4b08bc363fa86df755c7
msgid ":ref:`ipam_eni`"
msgstr ""

#: ../../internals/cilium_operator.rst:62 a2586d92986e40369a649536c0f26ef1
msgid ":ref:`ipam_crd_cluster_pool`"
msgstr ""

#: ../../internals/cilium_operator.rst:64 2e9d494259a1433c9f8aa3fe46b51ba8
msgid ""
"When running in IPAM mode :ref:`k8s_hostscope`, the allocation CIDRs used"
" by ``cilium-agent`` is derived from the fields ``podCIDR`` and "
"``podCIDRs`` populated by Kubernetes in the Kubernetes ``Node`` resource."
msgstr ""

#: ../../internals/cilium_operator.rst:68 1eaa081530cb4e6992124b64956dae85
msgid ""
"For :ref:`concepts_ipam_crd` IPAM allocation mode, it is the job of "
"Cloud-specific operator to populate the required information about CIDRs "
"in the ``CiliumNode`` resource."
msgstr ""

#: ../../internals/cilium_operator.rst:72 5cb4e33151d44b0081ab5ba9d6b03c02
msgid ""
"Cilium currently has native support for the following Cloud providers in "
"CRD IPAM mode:"
msgstr ""

#: ../../internals/cilium_operator.rst:75 d4d06047b69b4989a46261d4fd251148
msgid "Azure - ``cilium-operator-azure``"
msgstr ""

#: ../../internals/cilium_operator.rst:76 afef4245a9bb47889911b002b15651d6
msgid "AWS - ``cilium-operator-aws``"
msgstr ""

#: ../../internals/cilium_operator.rst:78 a5694efa9ddb4d929cd29f0799e5f4e4
msgid "For more information on IPAM visit :ref:`address_management`."
msgstr ""

#: ../../internals/cilium_operator.rst:81 eaaa7f4e7ba9460e9fc87a41926796a2
msgid "KVStore operations"
msgstr ""

#: ../../internals/cilium_operator.rst:83 5ee25192d1c6452fbe27615615e8dd5a
msgid ""
"These operations are performed only when KVStore is enabled for the "
"Cilium Operator. In addition, KVStore operations are only required when "
"``cilium-operator`` is running with any of the below options:"
msgstr ""

#: ../../internals/cilium_operator.rst:87 67ef067499c2444d99b1684f9d311d3e
msgid "``--synchronize-k8s-services``"
msgstr ""

#: ../../internals/cilium_operator.rst:88 86d2104d8002496492e0b47ae9149c30
msgid "``--synchronize-k8s-nodes``"
msgstr ""

#: ../../internals/cilium_operator.rst:89 96e1ebde5a6b4d22b9bc9737a1b38ed0
msgid "``--identity-allocation-mode=kvstore``"
msgstr ""

#: ../../internals/cilium_operator.rst:92 0de1142f6aef4c01933ff51783dcf460
msgid "K8s Services synchronization"
msgstr ""

#: ../../internals/cilium_operator.rst:94 7448779e7fba46cb829ba0414d142836
msgid ""
"Cilium Operator performs the job of synchronizing Kubernetes services to "
"external KVStore configured for the Cilium Operator if running with "
"``--synchronize-k8s-services`` flag."
msgstr ""

#: ../../internals/cilium_operator.rst:98 90d7fb09aabf45dd8b36143b0a603b3d
msgid ""
"The Cilium Operator performs this operation only for shared services "
"(services that have ``io.cilium/shared-service`` annotation set to true)."
" This is meaningful when running Cilium to setup a ClusterMesh."
msgstr ""

#: ../../internals/cilium_operator.rst:103 f70a065ee0a44f67873b72df55e928fa
msgid "K8s Nodes synchronization"
msgstr ""

#: ../../internals/cilium_operator.rst:105 72a9ebd1c1db40ae89b9f3801b9af696
msgid ""
"Similar to K8s services, Cilium Operator also synchronizes Kubernetes "
"nodes information to the shared KVStore."
msgstr ""

#: ../../internals/cilium_operator.rst:108 07c53e51c1004afaa26b1e00a8698566
msgid ""
"When a ``Node`` object is deleted it is not possible to reliably cleanup "
"the corresponding ``CiliumNode`` object from the Agent itself. The Cilium"
" Operator holds the responsibility to garbage collect orphaned "
"``CiliumNodes``."
msgstr ""

#: ../../internals/cilium_operator.rst:113 9fd50bc4a39c4948af3b4cabfe7bc712
msgid "CNP/CCNP node status garbage collection"
msgstr ""

#: ../../internals/cilium_operator.rst:115 5c4e53531f4d4db3a3302776f7a176ac
msgid ""
"For the same reasons that the Agent cannot reliably delete "
"``CiliumNode``, the Agent also cannot remove the status corresponding to "
"a node in a CiliumNetworkPolicy (CNP) or CiliumClusterwideNetworkPolicy "
"(CCNP) object. This operation of node status garbage collection from "
"CNP/CCNP objects is also performed by the Cilium Operator instead of the "
"Agent."
msgstr ""

#: ../../internals/cilium_operator.rst:121 41f035e05ef741f38c2ecb9edecd842c
msgid ""
"This behavior can be disabled passing ``--set "
"enableCnpStatusUpdates=false`` to ``helm install`` when installing or "
"updating Cilium:"
msgstr ""

#: ../../internals/cilium_operator.rst:131 a28404eb1c8c4627a098d271e49c204e
msgid "Heartbeat update"
msgstr ""

#: ../../internals/cilium_operator.rst:133 35e3214874f04a769789a1331696783f
msgid ""
"The Cilium Operator periodically updates the Cilium's heartbeat path key "
"with the current time. The default key for this heartbeat is "
"``cilium/.heartbeat`` in the KVStore. It is used by Cilium Agents to "
"validate that KVStore updates can be received."
msgstr ""

#: ../../internals/cilium_operator.rst:139 738df833dee849f9b459672fa86632ba
msgid "Policy status update"
msgstr ""

#: ../../internals/cilium_operator.rst:141 0b736cd990f84450a7aa0a30a4c5bfaa
msgid ""
"Cilium Operator performs the operation of CNP/CCNP node status updates "
"when ``k8s-events-handover`` is enabled. This optimizes Kubernetes events"
" handling in large clusters. For the node status updates to be handled by"
" the Cilium Operator, all the K8s events are mirrored to the KVStore, "
"which is then used to perform operations via the Cilium Operator. This "
"operation is performed for both ``CiliumNetworkPolicy`` and "
"``CiliumClusterwideNetworkPolicy`` objects."
msgstr ""

#: ../../internals/cilium_operator.rst:149 244c7543edb7476b90f64194a04c3eb0
msgid ""
"For each CNP/CCNP object in the cluster, the Cilium Operator start a "
"status handler. This handler periodically updates the node statuses for "
"the CNP/CCNP objects with the status of the policy for the corresponding "
"node."
msgstr ""

#: ../../internals/cilium_operator.rst:154 52c2b58c99d94be297fe950d47ef46d6
msgid "Identity garbage collection"
msgstr ""

#: ../../internals/cilium_operator.rst:156 70cbea5628da4bb6a101a08f4b589283
msgid ""
"Each workload in Kubernetes is assigned a security identity that is used "
"for policy decision making. This identity is based on common workload "
"markers like labels. Cilium supports two identity allocation mechanisms:"
msgstr ""

#: ../../internals/cilium_operator.rst:160 1722f15ac8f546c6b7a5517989cb01f0
msgid "CRD Identity allocation"
msgstr ""

#: ../../internals/cilium_operator.rst:161 98280031c8b141ada296ae9785cd33d7
msgid "KVStore Identity allocation"
msgstr ""

#: ../../internals/cilium_operator.rst:163 4b0c001b216b483a88067ed01a5303a5
msgid ""
"Both the mechanisms of identity allocation require the Cilium Operator to"
" perform the garbage collection of stale identities. This garbage "
"collection is necessary because a 16-bit unsigned integer represents the "
"security identity, and thus we can only have a maximum of 65536 "
"identities in the cluster."
msgstr ""

#: ../../internals/cilium_operator.rst:170 1841eaf3e18e446fbeac38e786f5e4a5
msgid "CRD Identity garbage collection"
msgstr ""

#: ../../internals/cilium_operator.rst:172 f2561b62da474c208b90c8a83002c1e2
msgid ""
"CRD identity allocation uses Kubernetes custom resource "
"``CiliumIdentity`` to represent a security identity. This is the default "
"behavior of Cilium and works out of the box in any K8s environment "
"without any external dependency."
msgstr ""

#: ../../internals/cilium_operator.rst:177 bcba0175b6bf40a0ab2165d9bfe7e083
msgid ""
"The Cilium Operator maintains a local cache for CiliumIdentities with the"
" last time they were seen active. A controller runs in the background "
"periodically which scans this local cache and deletes identities that "
"have not had their heartbeat life sign updated since ``identity-"
"heartbeat-timeout``."
msgstr ""

#: ../../internals/cilium_operator.rst:183 0281b4c4237c4a0ca67efaf8c9822d0f
msgid ""
"One thing to note here is that an Identity is always assumed to be live "
"if it has an endpoint associated with it."
msgstr ""

#: ../../internals/cilium_operator.rst:187 ab4dbdd1aa9a45c3b3275ce527d374af
msgid "KVStore Identity garbage collection"
msgstr ""

#: ../../internals/cilium_operator.rst:189 3ab4ce43daeb4a32bb8f2f097bd41a46
msgid ""
"While the CRD allocation mode for identities is more common, it is "
"limited in terms of scale. When running in a very large environment, a "
"saner choice is to use the KVStore allocation mode. This mode stores the "
"identities in an external store like etcd."
msgstr ""

#: ../../internals/cilium_operator.rst:194 f3b7894079ec4a559cae308b2f656a52
msgid ""
"For more information on Cilium's scalability visit "
":ref:`scalability_guide`."
msgstr ""

#: ../../internals/cilium_operator.rst:196 c6858c9ce7c84c6ebe0e39a373cfae4a
msgid ""
"The garbage collection mechanism involves scanning the KVStore of all the"
" identities. For each identity, the Cilium Operator search in the KVStore"
" if there are any active users of that identity. The entry is deleted "
"from the KVStore if there are no active users."
msgstr ""

#: ../../internals/cilium_operator.rst:202 faf89d1aecd2449bbfef2dd5396d948a
msgid "CiliumEndpoint garbage collection"
msgstr ""

#: ../../internals/cilium_operator.rst:204 8880a8ca0b804ff08cb434edb6f3b28c
msgid ""
"CiliumEndpoint object is created by the ``cilium-agent`` for each ``Pod``"
" in the cluster. The Cilium Operator manages a controller to handle the "
"garbage collection of orphaned ``CiliumEndpoint`` objects. An orphaned "
"``CiliumEndpoint`` object means that the owner of the endpoint object is "
"not active anymore in the cluster. CiliumEndpoints are also considered "
"orphaned if the owner is an existing Pod in ``PodFailed`` or "
"``PodSucceeded`` state. This controller is run periodically if the "
"``endpoint-gc-interval`` option is specified and only once during startup"
" if the option is unspecified."
msgstr ""

#: ../../internals/cilium_operator.rst:215 5096eb0a08e5440f887fa382d805f889
msgid "Derivative network policy creation"
msgstr ""

#: ../../internals/cilium_operator.rst:217 adf63b326fc64ceaa6f3ddcbc9f0defd
msgid ""
"When using Cloud-provider-specific constructs like ``toGroups`` in the "
"network policy spec, the Cilium Operator performs the job of converting "
"these constructs to derivative CNP/CCNP objects without these fields."
msgstr ""

#: ../../internals/cilium_operator.rst:221 1b1d5d19cbd84a019432e3f7feca0286
msgid ""
"For more information, see how Cilium network policies incorporate the use"
" of ``toGroups`` to :ref:`lock down external access using AWS security "
"groups<aws_metadata_with_policy>`."
msgstr ""

